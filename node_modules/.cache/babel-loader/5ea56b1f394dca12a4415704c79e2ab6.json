{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abrar khan Zargai\\\\Desktop\\\\Shop Mangment system\\\\Dashboard--\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Input, Button, message, Spin } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Admin } from \"../services/api\";\nimport numl from '../numl.jpg';\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(false);\n  }, []);\n  useEffect(() => {\n    let loggedIn = true;\n    const token = localStorage.getItem(\"token\");\n\n    if (token !== null && loggedIn === true) {\n      setIsLoggedIn(true);\n    }\n\n    return () => loggedIn = false;\n  }, []);\n\n  const onFinish = async values => {\n    try {\n      setLoading(true); // const response = await Admin.signIn(values);\n      // if (response) {\n      //   localStorage.setItem(\"token\", response.data.token);\n      //   localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n      //   message.success(\"Logged in!\");\n      //   setIsLoggedIn(true);\n      //   setLoading(false);\n      // }\n\n      localStorage.setItem(\"token\", \"response.data.token\");\n      localStorage.setItem(\"user\", \"JSON.stringify(response.data.user)\");\n      message.success(\"Logged in!\");\n      setIsLoggedIn(true);\n    } catch (error) {\n      console.log(error);\n      message.error(\"Incorrect email or password\");\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/app\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : loading ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        position: \"absolute\",\n        top: \"47%\",\n        right: \"50%\",\n        transform: \"translate(0, -50%)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        id: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-container sign-in-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"social-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                class: \"social\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fab fa-facebook-f\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                class: \"social\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fab fa-google-plus-g\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                class: \"social\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fab fa-linkedin-in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"or use your account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(HCaptcha, {\n              ref: captche,\n              sitekey: sitekey,\n              onExpire: e => SetToken(\"\"),\n              onVerify: (token, ekey) => {\n                SetToken(token);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: \"Forgot your password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onFinish(),\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"overlay-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"overlay\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"overlay-panel overlay-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Welcome Back!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"To keep connected with us please login with your personal info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"ghost\",\n                id: \"signIn\",\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"overlay-panel overlay-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Hello, Friend!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Enter your personal details and start journey with us\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"ghost\",\n                id: \"signUp\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"jXmxysuorbZ4d+rZHlq+celpCAY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Abrar khan Zargai/Desktop/Shop Mangment system/Dashboard--/src/pages/Login.js"],"names":["Form","Input","Button","message","Spin","useEffect","useState","Redirect","Admin","numl","Login","isLoggedIn","setIsLoggedIn","loading","setLoading","loggedIn","token","localStorage","getItem","onFinish","values","setItem","success","error","console","log","position","top","right","transform","captche","sitekey","e","SetToken","ekey"],"mappings":"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","sourcesContent":["import { Form, Input, Button, message,Spin } from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Admin } from \"../services/api\";\r\nimport numl from '../numl.jpg'\r\nimport \"./index.css\";\r\n\r\n\r\nfunction Login() {\r\n  \r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let loggedIn = true;\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token !== null && loggedIn === true) {\r\n      setIsLoggedIn(true);\r\n    }\r\n\r\n    return () => (loggedIn = false);\r\n  }, []);\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      // const response = await Admin.signIn(values);\r\n      // if (response) {\r\n      //   localStorage.setItem(\"token\", response.data.token);\r\n      //   localStorage.setItem(\"user\", JSON.stringify(response.data.user));\r\n      //   message.success(\"Logged in!\");\r\n      //   setIsLoggedIn(true);\r\n      //   setLoading(false);\r\n      // }\r\n         localStorage.setItem(\"token\", \"response.data.token\");\r\n         localStorage.setItem(\"user\", \"JSON.stringify(response.data.user)\");\r\n        message.success(\"Logged in!\");\r\n        setIsLoggedIn(true);\r\n    } catch (error) {\r\n      console.log(error);\r\n      message.error(\"Incorrect email or password\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n \r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn ? (\r\n        <Redirect to=\"/app\" />\r\n      ) : loading ? (\r\n        <Spin\r\n          size=\"large\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"47%\",\r\n            right: \"50%\",\r\n            transform: \"translate(0, -50%)\",\r\n          }}\r\n        />\r\n      ) : (\r\n        <div >\r\n           <div class=\"container\" id=\"container\">\r\n               \r\n                <div class=\"form-container sign-in-container\">\r\n                    <div class=\"form\">\r\n                        <h1>Sign in</h1>\r\n                        <div class=\"social-container\">\r\n                            <a href=\"#\" class=\"social\"><i class=\"fab fa-facebook-f\"></i></a>\r\n                            <a href=\"#\" class=\"social\"><i class=\"fab fa-google-plus-g\"></i></a>\r\n                            <a href=\"#\" class=\"social\"><i class=\"fab fa-linkedin-in\"></i></a>\r\n                        </div>\r\n                        <span>or use your account</span>\r\n                        <input type=\"email\" placeholder=\"Email\" />\r\n                        <input type=\"password\" placeholder=\"Password\" />\r\n                        <HCaptcha\r\n                            ref={captche}\r\n                            sitekey={sitekey}\r\n                            onExpire={e => SetToken(\"\")}\r\n                            onVerify={(token, ekey) => {\r\n\r\n                                SetToken(token);\r\n                            }\r\n                            }\r\n                        />\r\n                        <a href=\"#\">Forgot your password?</a>\r\n                        <button onClick={() => onFinish()}>Sign In</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"overlay-container\">\r\n                    <div class=\"overlay\">\r\n                        <div class=\"overlay-panel overlay-left\">\r\n                            <h1>Welcome Back!</h1>\r\n                            <p>To keep connected with us please login with your personal info</p>\r\n                            <button class=\"ghost\" id=\"signIn\">Sign In</button>\r\n                        </div>\r\n                        <div class=\"overlay-panel overlay-right\">\r\n                            <h1>Hello, Friend!</h1>\r\n                            <p>Enter your personal details and start journey with us</p>\r\n                            <button class=\"ghost\" id=\"signUp\">Sign Up</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n       {/* Login Container Started Here  */}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}