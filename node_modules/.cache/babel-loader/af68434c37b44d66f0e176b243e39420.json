{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abrar khan Zargai\\\\Desktop\\\\NUML-BMS\\\\project\\\\BUS-API-Dashboard\\\\src\\\\pages\\\\StudentPortal.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Input, Button, message, Typography, Spin, Row, Col, Image, Tag, Descriptions, Badge } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { StudentApi } from \"../services/api\";\nimport { SupportApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  TextArea\n} = Input;\nlet mock = {\n  \"verified\": false,\n  \"slipVerified\": false,\n  \"_id\": \"60a689d6049eb73a10badeac\",\n  \"name\": \"Muhammad Abrar\",\n  \"email\": \"abrar@gmail.com\",\n  \"password\": \"12345\",\n  \"phone\": \"0312312312312312\",\n  \"systemId\": \"numl-f19-28876\",\n  \"department\": \"60a678d223c07001c42e2828\",\n  \"sex\": \"Male\",\n  \"createdAt\": \"2021-05-20T16:09:58.369Z\",\n  \"updatedAt\": \"2021-05-20T16:09:58.369Z\",\n  \"__v\": 0\n};\n\nfunction StudentPortal() {\n  _s();\n\n  var _student$systemId;\n\n  const {\n    Title\n  } = Typography;\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [student, setStudent] = useState();\n  const [title, setTitle] = useState('');\n  const [msg, setMsg] = useState('');\n\n  const onSubmit = () => {\n    console.log('student', student);\n    setLoading(true);\n    let data = {\n      title,\n      message: msg,\n      studentId: student._id,\n      status: 'active'\n    };\n    console.log('data', data);\n    SupportApi.create(data).then(res => {\n      message.success('Support Ticket Created');\n      setTitle('');\n      setMsg('');\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    setLoading(false);\n    let loggedIn = true;\n    const token = localStorage.getItem(\"token\");\n\n    if (token !== null && loggedIn === true) {\n      setIsLoggedIn(true);\n    }\n\n    return () => loggedIn = false;\n  }, []);\n\n  const onFinish = async values => {\n    console.log('values', values);\n\n    try {\n      setLoading(true);\n      const response = await StudentApi.queryStudent(values);\n\n      if (response && response.data && response.data.systemId) {\n        setStudent(response.data);\n        message.success(\"Profile Loaded \", response.data);\n        setLoading(false);\n      } else {\n        message.error(\"No Record found.\");\n        setLoading(false);\n      }\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(errorInfo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/app\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this) : loading ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        position: \"absolute\",\n        top: \"47%\",\n        right: \"50%\",\n        transform: \"translate(0, -50%)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginLeft: \"6rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        style: {\n          marginRight: \"5.6rem\",\n          marginTop: \"8rem\",\n          marginBottom: \"10px\"\n        },\n        children: \"Student Portal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        style: {\n          margin: \"70px\"\n        } // {...layout}\n        ,\n        name: \"basic\",\n        initialValues: {\n          remember: true\n        },\n        onFinish: onFinish,\n        onFinishFailed: onFinishFailed,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"20rem\",\n            marginTop: \"5px\",\n            paddingTop: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            style: {\n              width: \"92.45%\",\n              marginLeft: \"1.4rem\"\n            },\n            label: \"System ID\",\n            name: \"systemId\",\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Password\",\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: \"Please input your password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {\n              style: {\n                width: \"100%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"20rem\",\n            marginLeft: \"10rem \",\n            marginTop: \"1rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: \"6.3rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Administration Access? Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), student && /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Descriptions, {\n            title: \"User Info\",\n            bordered: true,\n            children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Full Name\",\n              children: student.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Email Address\",\n              children: student.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Contact Number\",\n              children: student.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Slip Verified\",\n              children: /*#__PURE__*/_jsxDEV(Badge, {\n                status: student.slipVerified == true ? 'success' : 'error',\n                text: student.slipVerified == true ? 'Verified' : 'Not Verified'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Updated At\",\n              children: new Date(student === null || student === void 0 ? void 0 : student.updatedAt).toUTCString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"System ID\",\n              children: /*#__PURE__*/_jsxDEV(Tag, {\n                color: 'green',\n                children: ((_student$systemId = student.systemId) === null || _student$systemId === void 0 ? void 0 : _student$systemId.toUpperCase()) || ''\n              }, student.systemId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Account Status\",\n              span: 3,\n              children: /*#__PURE__*/_jsxDEV(Badge, {\n                status: student.verified == true ? 'success' : 'warning',\n                text: student.verified == true ? 'Active' : 'Not Active'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Gender \",\n              children: student.sex\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Slip Photo\",\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                src: student.slipPhoto || 'https://www.wkbn.com/wp-content/uploads/sites/48/2020/06/missing-generic.jpg',\n                style: {\n                  width: '250px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          style: {\n            margin: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Send Message To Support\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: title,\n            placeholder: \"title\",\n            style: {\n              marginBottom: '10px'\n            },\n            onChange: e => setTitle(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n            value: msg,\n            rows: 3,\n            placeholder: \"Write your Message!\",\n            onChange: e => setMsg(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              marginTop: '5px'\n            },\n            onClick: onSubmit,\n            children: \"Send Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(StudentPortal, \"IhyQ4+CEwWrRQIFtY5HG+5XwADM=\");\n\n_c = StudentPortal;\nexport default StudentPortal;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentPortal\");","map":{"version":3,"sources":["C:/Users/Abrar khan Zargai/Desktop/NUML-BMS/project/BUS-API-Dashboard/src/pages/StudentPortal.js"],"names":["Form","Input","Button","message","Typography","Spin","Row","Col","Image","Tag","Descriptions","Badge","useEffect","useState","Redirect","Link","StudentApi","SupportApi","TextArea","mock","StudentPortal","Title","isLoggedIn","setIsLoggedIn","loading","setLoading","student","setStudent","title","setTitle","msg","setMsg","onSubmit","console","log","data","studentId","_id","status","create","then","res","success","loggedIn","token","localStorage","getItem","onFinish","values","response","queryStudent","systemId","error","onFinishFailed","errorInfo","position","top","right","transform","display","flexDirection","alignItems","justifyContent","marginLeft","marginRight","marginTop","marginBottom","margin","remember","width","paddingTop","required","name","email","phone","slipVerified","Date","updatedAt","toUTCString","toUpperCase","verified","sex","slipPhoto","e","target","value"],"mappings":"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","sourcesContent":["import { Form, Input, Button, message, Typography, Spin, Row, Col, Image,Tag,\r\n  Descriptions, Badge \r\n\r\n} from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { StudentApi } from \"../services/api\";\r\nimport {SupportApi } from '../services/api';\r\nconst { TextArea } = Input;\r\n\r\nlet mock ={\r\n  \"verified\": false,\r\n  \"slipVerified\": false,\r\n  \"_id\": \"60a689d6049eb73a10badeac\",\r\n  \"name\": \"Muhammad Abrar\",\r\n  \"email\": \"abrar@gmail.com\",\r\n  \"password\": \"12345\",\r\n  \"phone\": \"0312312312312312\",\r\n  \"systemId\": \"numl-f19-28876\",\r\n  \"department\": \"60a678d223c07001c42e2828\",\r\n  \"sex\": \"Male\",\r\n  \"createdAt\": \"2021-05-20T16:09:58.369Z\",\r\n  \"updatedAt\": \"2021-05-20T16:09:58.369Z\",\r\n  \"__v\": 0\r\n}\r\n\r\nfunction StudentPortal() {\r\n  const { Title } = Typography;\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [student, setStudent] = useState();\r\n  const [title, setTitle] = useState('');\r\n  const [msg, setMsg] = useState('');\r\n\r\n\r\n\r\n  \r\n \r\n\r\n\r\n\r\nconst onSubmit = () =>{\r\n  console.log('student', student);\r\n  setLoading(true);\r\n  let data = {\r\n    title,\r\n    message:msg,\r\n    studentId: student._id,\r\n    status: 'active'\r\n  }\r\n  console.log('data', data);\r\n  SupportApi.create(data).then(res=>{\r\nmessage.success('Support Ticket Created');\r\nsetTitle('');\r\nsetMsg('');\r\n\r\n    setLoading(false);\r\n  })\r\n}\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n    let loggedIn = true;\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token !== null && loggedIn === true) {\r\n      setIsLoggedIn(true);\r\n    }\r\n\r\n    return () => (loggedIn = false);\r\n  }, []);\r\n\r\n  const onFinish = async (values) => {\r\n    console.log('values', values)\r\n    try {\r\n      setLoading(true);\r\n      const response = await StudentApi.queryStudent(values);\r\n      if (response && response.data && response.data.systemId) {\r\n        setStudent(response.data);\r\n        message.success(\"Profile Loaded \",response.data);\r\n        setLoading(false);\r\n      }else{\r\n        message.error(\"No Record found.\");\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn ? (\r\n        <Redirect to=\"/app\" />\r\n      ) : loading ? (\r\n        <Spin\r\n          size=\"large\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"47%\",\r\n            right: \"50%\",\r\n            transform: \"translate(0, -50%)\",\r\n          }}\r\n        />\r\n      ) : (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            marginLeft: \"6rem\",\r\n          }}\r\n        >\r\n          <Title\r\n            style={{\r\n              marginRight: \"5.6rem\",\r\n              marginTop: \"8rem\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            Student Portal \r\n          </Title>\r\n          <Form\r\n            style={{ margin: \"70px\" }}\r\n            // {...layout}\r\n            name=\"basic\"\r\n            initialValues={{ remember: true }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n          >\r\n            <div\r\n              style={{\r\n                width: \"20rem\",\r\n                marginTop: \"5px\",\r\n                paddingTop: \"10px\",\r\n              }}\r\n            >\r\n                 <Form.Item\r\n                style={{\r\n                  width: \"92.45%\",\r\n                  marginLeft: \"1.4rem\",\r\n                }}\r\n                label=\"System ID\"\r\n                name=\"systemId\"\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n              {/* <Form.Item\r\n                style={{\r\n                  width: \"92.45%\",\r\n                  marginLeft: \"1.4rem\",\r\n                }}\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input Correct Email!\",\r\n                    type: \"email\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item> */}\r\n\r\n              <Form.Item\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                rules={[\r\n                  { required: true, message: \"Please input your password!\" },\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  style={{\r\n                    width: \"100%\",\r\n                  }}\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n            {/* <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\r\n        <Checkbox>Remember me</Checkbox>\r\n      </Form.Item> */}\r\n            <div\r\n              style={{\r\n                width: \"20rem\",\r\n                marginLeft: \"10rem \",\r\n                marginTop: \"1rem\",\r\n              }}\r\n            >\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  Search\r\n                </Button>\r\n              </Form.Item>\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginLeft: \"6.3rem\",\r\n              }}\r\n            >\r\n              <Link to=\"/login\">Administration Access? Log In</Link>\r\n            </div>\r\n          </Form>\r\n\r\n          {\r\n            student &&\r\n            (<Row>\r\n              <Col>\r\n              <Descriptions title=\"User Info\" bordered>\r\n    <Descriptions.Item label=\"Full Name\">{student.name}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Email Address\">{student.email}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Contact Number\">{student.phone}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Slip Verified\">\r\n    <Badge status={student.slipVerified == true ? 'success':'error'} text={student.slipVerified == true ? 'Verified':'Not Verified'} />\r\n    </Descriptions.Item>\r\n    <Descriptions.Item label=\"Updated At\">{new Date(student?.updatedAt).toUTCString()}</Descriptions.Item>\r\n    <Descriptions.Item label=\"System ID\">\r\n    <Tag color={'green'} key={student.systemId}>\r\n              {student.systemId?.toUpperCase() || ''}\r\n            </Tag></Descriptions.Item>\r\n    {/* <Descriptions.Item label=\"Created At\" span={2}>\r\n    {student.createdAt ? new Date(student?.createdAt).toUTCString() : ''}\r\n    </Descriptions.Item> */}\r\n    <Descriptions.Item label=\"Account Status\" span={3}>\r\n      <Badge status={student.verified == true ? 'success':'warning'} text={student.verified == true ? 'Active':'Not Active'} />\r\n    </Descriptions.Item>\r\n    <Descriptions.Item label=\"Gender \">{student.sex}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Slip Photo\">\r\n      <Image src={student.slipPhoto ||'https://www.wkbn.com/wp-content/uploads/sites/48/2020/06/missing-generic.jpg'} style={{width:'250px'}} />\r\n    </Descriptions.Item>\r\n    {/* <Descriptions.Item label=\"Config Info\">\r\n      Data disk type: MongoDB\r\n      <br />\r\n      Database version: 3.4\r\n      <br />\r\n      Package: dds.mongo.mid\r\n      <br />\r\n      Storage space: 10 GB\r\n      <br />\r\n      Replication factor: 3\r\n      <br />\r\n      Region: East China 1<br />\r\n    </Descriptions.Item> */}\r\n  </Descriptions>\r\n\r\n              \r\n              </Col>\r\n              <Col style={{margin:'10px'}}>\r\n              <h2>Send Message To Support</h2>\r\n\r\n              <Input  value={title} placeholder=\"title\"  style={{marginBottom:'10px'}} onChange={(e)=> setTitle(e.target.value)} />\r\n              <TextArea  value={msg} rows={3} placeholder=\"Write your Message!\" onChange={(e)=> setMsg(e.target.value)}  />\r\n              <Button style={{marginTop:'5px'}} onClick={onSubmit}>Send Message</Button>\r\n              </Col>\r\n            </Row>)\r\n           \r\n            \r\n          }\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StudentPortal;\r\n"]},"metadata":{},"sourceType":"module"}