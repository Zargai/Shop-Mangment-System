{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abrar khan Zargai\\\\Desktop\\\\NUML-BMS\\\\project\\\\BUS-API-Dashboard\\\\src\\\\pages\\\\StudentPortal.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Input, Button, message, Upload, Typography, Spin, Row, Col, Image, Tag, Descriptions, Badge } from \"antd\";\nimport numl from '../numl.jpg';\nimport '../App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { StudentApi } from \"../services/api\";\nimport { UploadOutlined } from '@ant-design/icons';\nimport { SupportApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  TextArea\n} = Input;\nlet mock = {\n  \"verified\": false,\n  \"slipVerified\": false,\n  \"_id\": \"60a689d6049eb73a10badeac\",\n  \"name\": \"Muhammad Abrar\",\n  \"email\": \"abrar@gmail.com\",\n  \"password\": \"12345\",\n  \"phone\": \"0312312312312312\",\n  \"systemId\": \"numl-f19-28876\",\n  \"department\": \"60a678d223c07001c42e2828\",\n  \"sex\": \"Male\",\n  \"createdAt\": \"2021-05-20T16:09:58.369Z\",\n  \"updatedAt\": \"2021-05-20T16:09:58.369Z\",\n  \"__v\": 0\n};\nconst propertiesUpload = {\n  name: 'myFile',\n  action: 'http://localhost:8080/api/auth/upload',\n  headers: {\n    authorization: 'authorization-text'\n  }\n};\n\nfunction StudentPortal() {\n  _s();\n\n  var _student$systemId;\n\n  const {\n    Title\n  } = Typography;\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [student, setStudent] = useState();\n  const [title, setTitle] = useState('');\n  const [msg, setMsg] = useState('');\n  const [slipPhoto, SetSlipPhoto] = useState();\n\n  const handleChange = async e => {\n    console.log('change', e);\n\n    if (e.file.status == 'done') {\n      // set the file url \n      message.success('File Uploaded');\n      let imgUrl = e.file.response.file;\n      console.log('use', imgUrl);\n\n      if (imgUrl) {\n        SetSlipPhoto(imgUrl);\n        setStudent({ ...student,\n          slipPhoto: imgUrl\n        });\n        await StudentApi.update(student._id, {\n          slipPhoto: imgUrl\n        });\n      }\n    }\n  };\n\n  const onSubmit = () => {\n    setLoading(true);\n    let data = {\n      title,\n      message: msg,\n      studentId: student._id\n    };\n    console.log('data', data);\n    SupportApi.create(data).then(res => {\n      message.success('Support Ticket Created');\n      setTitle('');\n      setMsg('');\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    setLoading(false);\n    let loggedIn = true;\n    const token = localStorage.getItem(\"token\");\n\n    if (token !== null && loggedIn === true) {\n      setIsLoggedIn(true);\n    }\n\n    return () => loggedIn = false;\n  }, []);\n\n  const onFinish = async values => {\n    console.log('values', values);\n\n    try {\n      setLoading(true);\n      const response = await StudentApi.queryStudent(values);\n\n      if (response && response.data && response.data.systemId) {\n        setStudent(response.data);\n        message.success(\"Profile Loaded \", response.data);\n        setLoading(false);\n      } else {\n        message.error(\"No Record found.\");\n        setLoading(false);\n      }\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(errorInfo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/app\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this) : loading ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        position: \"absolute\",\n        top: \"47%\",\n        right: \"50%\",\n        transform: \"translate(0, -50%)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(${numl})`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n        backgroundAttachment: \"fixed\",\n        height: \"auto\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingTop: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6 col-10 student_login m-auto \",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"admin_Login_title\",\n              children: \"Student Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Form // {...layout}\n            , {\n              name: \"basic\",\n              initialValues: {\n                remember: true\n              },\n              onFinish: onFinish,\n              onFinishFailed: onFinishFailed,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"student_login_form\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"white\",\n                    marginLeft: \"110px\",\n                    float: \"left\",\n                    fontSize: \"20px\"\n                  },\n                  children: \"System ID :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                  style: {\n                    width: \"300px\",\n                    marginLeft: \"100px\"\n                  },\n                  name: \"systemId\",\n                  rules: [{\n                    required: true,\n                    message: \"System ID must be in formate of NUML-FXX-XXXXX!\",\n                    asyncValidator: (rule, value) => {\n                      return new Promise((resolve, reject) => {\n                        if (!value.match(/[N/n][U/u][M/m][L/l]-([A-Za-z])[0-9]{2}-[0-9]{1}/)) {\n                          reject('Enter valid system ID'); // reject with error message\n                        } else {\n                          resolve();\n                        }\n                      });\n                    }\n                  }],\n                  children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"white\",\n                    marginLeft: \"110px\",\n                    float: \"left\",\n                    fontSize: \"20px\"\n                  },\n                  children: \"Password :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 16\n                }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                  style: {\n                    width: \"300px\",\n                    marginLeft: \"100px\"\n                  },\n                  name: \"password\",\n                  rules: [{\n                    required: true,\n                    message: \"Please input your password!\"\n                  }],\n                  children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"btn btn-success\",\n                    type: \"primary\",\n                    htmlType: \"submit\",\n                    style: {\n                      padding: \"0px 40px\",\n                      marginTop: \"20px\"\n                    },\n                    children: \"Search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    paddingRight: \"90px\",\n                    textAlign: \"center\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    style: {\n                      marginLeft: \"100px\",\n                      color: \"green\"\n                    },\n                    to: \"/login\",\n                    children: \" Admin Portal-(Login)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 15\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 56\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    style: {\n                      marginLeft: \"100px\",\n                      color: \"green\"\n                    },\n                    to: \"/student-register\",\n                    children: \"Student Portal-(Regestration)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 15\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 75\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"student_portal\",\n        children: student && /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            paddingLeft: \"200px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                color: \"white\",\n                padding: \"20px 0px\"\n              },\n              children: [\"Welcome \", student.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n              style: {\n                color: \"white\"\n              },\n              bordered: true,\n              children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                label: \"Full Name\",\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                children: student.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                label: \"Email Address\",\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                children: student.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                label: \"Contact Number\",\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                children: student.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                label: \"Slip Verified\",\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  labelStyle: {\n                    color: \"black\"\n                  },\n                  style: {\n                    color: \"white\"\n                  },\n                  status: student.slipVerified == true ? 'success' : 'error',\n                  text: student.slipVerified == true ? 'Verified' : 'Not Verified'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 5\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                label: \"Updated At\",\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                children: new Date(student === null || student === void 0 ? void 0 : student.updatedAt).toUTCString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                label: \"System ID\",\n                children: /*#__PURE__*/_jsxDEV(Tag, {\n                  color: 'green',\n                  children: ((_student$systemId = student.systemId) === null || _student$systemId === void 0 ? void 0 : _student$systemId.toUpperCase()) || ''\n                }, student.systemId, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 5\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                label: \"Account Status\",\n                span: 3,\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  labelStyle: {\n                    color: \"black\"\n                  },\n                  style: {\n                    color: \"white\"\n                  },\n                  status: student.verified == true ? 'success' : 'warning',\n                  text: student.verified == true ? 'Active' : 'Not Active'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 7\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                label: \"Gender \",\n                children: student.sex\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                labelStyle: {\n                  color: \"black\"\n                },\n                style: {\n                  color: \"white\"\n                },\n                label: \"Slip Photo\",\n                children: [/*#__PURE__*/_jsxDEV(Image, {\n                  labelStyle: {\n                    color: \"black\"\n                  },\n                  style: {\n                    color: \"white\"\n                  },\n                  src: student.slipPhoto || 'https://www.wkbn.com/wp-content/uploads/sites/48/2020/06/missing-generic.jpg',\n                  style: {\n                    width: '250px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Upload, {\n                    labelStyle: {\n                      color: \"black\"\n                    },\n                    style: {\n                      color: \"white\"\n                    },\n                    ...propertiesUpload,\n                    onChange: e => handleChange(e),\n                    data: {\n                      name: 'testing'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      style: {\n                        color: \"white\"\n                      },\n                      icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 43\n                      }, this),\n                      children: \"Click to Upload Challan\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 5\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 9\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            style: {\n              margin: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                color: \"white\"\n              },\n              children: \"Send Message To Support\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: title,\n              placeholder: \"title\",\n              style: {\n                marginBottom: '10px'\n              },\n              onChange: e => setTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              value: msg,\n              rows: 3,\n              placeholder: \"Write your Message!\",\n              onChange: e => setMsg(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                marginTop: '5px'\n              },\n              onClick: onSubmit,\n              children: \"Send Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(StudentPortal, \"7Tepr8g9cetgSIwv3FblwBa0iJQ=\");\n\n_c = StudentPortal;\nexport default StudentPortal;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentPortal\");","map":{"version":3,"sources":["C:/Users/Abrar khan Zargai/Desktop/NUML-BMS/project/BUS-API-Dashboard/src/pages/StudentPortal.js"],"names":["Form","Input","Button","message","Upload","Typography","Spin","Row","Col","Image","Tag","Descriptions","Badge","numl","useEffect","useState","Redirect","Link","StudentApi","UploadOutlined","SupportApi","TextArea","mock","propertiesUpload","name","action","headers","authorization","StudentPortal","Title","isLoggedIn","setIsLoggedIn","loading","setLoading","student","setStudent","title","setTitle","msg","setMsg","slipPhoto","SetSlipPhoto","handleChange","e","console","log","file","status","success","imgUrl","response","update","_id","onSubmit","data","studentId","create","then","res","loggedIn","token","localStorage","getItem","onFinish","values","queryStudent","systemId","error","onFinishFailed","errorInfo","position","top","right","transform","backgroundImage","backgroundSize","backgroundPosition","backgroundAttachment","height","display","flexDirection","alignItems","justifyContent","paddingTop","remember","color","marginLeft","float","fontSize","width","required","asyncValidator","rule","value","Promise","resolve","reject","match","padding","marginTop","paddingRight","textAlign","paddingLeft","email","phone","slipVerified","Date","updatedAt","toUTCString","toUpperCase","verified","sex","margin","marginBottom","target"],"mappings":"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","sourcesContent":["import { Form, Input, Button, message,Upload, Typography, Spin, Row, Col, Image,Tag,\r\n  Descriptions, Badge \r\n\r\n} from \"antd\";\r\nimport numl from '../numl.jpg'\r\nimport '../App.css'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { StudentApi } from \"../services/api\";\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport {SupportApi } from '../services/api';\r\n\r\nconst { TextArea } = Input;\r\n\r\nlet mock ={\r\n  \"verified\": false,\r\n  \"slipVerified\": false,\r\n  \"_id\": \"60a689d6049eb73a10badeac\",\r\n  \"name\": \"Muhammad Abrar\",\r\n  \"email\": \"abrar@gmail.com\",\r\n  \"password\": \"12345\",\r\n  \"phone\": \"0312312312312312\",\r\n  \"systemId\": \"numl-f19-28876\",\r\n  \"department\": \"60a678d223c07001c42e2828\",\r\n  \"sex\": \"Male\",\r\n  \"createdAt\": \"2021-05-20T16:09:58.369Z\",\r\n  \"updatedAt\": \"2021-05-20T16:09:58.369Z\",\r\n  \"__v\": 0\r\n}\r\n\r\n\r\nconst propertiesUpload = {\r\n  name: 'myFile',\r\n  action: 'http://localhost:8080/api/auth/upload',\r\n  headers: {\r\n    authorization: 'authorization-text',\r\n  }\r\n}\r\n\r\nfunction StudentPortal() {\r\n  const { Title } = Typography;\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [student, setStudent] = useState();\r\n  const [title, setTitle] = useState('');\r\n  const [msg, setMsg] = useState('');\r\n  const [slipPhoto, SetSlipPhoto] = useState();\r\n\r\n\r\n\r\n  \r\n \r\n  const  handleChange = async(e)=>{\r\n    console.log('change',e);\r\n    if(e.file.status == 'done'){\r\n      // set the file url \r\n      message.success('File Uploaded');\r\n      let imgUrl = e.file.response.file;\r\n      console.log('use', imgUrl)\r\n      if(imgUrl){\r\n        SetSlipPhoto(imgUrl);\r\n         setStudent({...student, slipPhoto: imgUrl});\r\n\r\n       await StudentApi.update(student._id, {\r\n          slipPhoto: imgUrl\r\n        });\r\n\r\n        \r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\nconst onSubmit = () =>{\r\n  setLoading(true);\r\n  let data = {\r\n    title,\r\n    message:msg,\r\n    studentId: student._id\r\n  }\r\n  console.log('data', data);\r\n  SupportApi.create(data).then(res=>{\r\nmessage.success('Support Ticket Created');\r\nsetTitle('');\r\nsetMsg('');\r\n\r\n    setLoading(false);\r\n  })\r\n}\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n    let loggedIn = true;\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token !== null && loggedIn === true) {\r\n      setIsLoggedIn(true);\r\n    }\r\n\r\n    return () => (loggedIn = false);\r\n  }, []);\r\n\r\n  const onFinish = async (values) => {\r\n    console.log('values', values)\r\n    try {\r\n      setLoading(true);\r\n      const response = await StudentApi.queryStudent(values);\r\n      if (response && response.data && response.data.systemId) {\r\n        setStudent(response.data);\r\n        message.success(\"Profile Loaded \",response.data);\r\n        setLoading(false);\r\n      }else{\r\n        message.error(\"No Record found.\");\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn ? (\r\n        <Redirect to=\"/app\" />\r\n      ) : loading ? (\r\n        <Spin\r\n          size=\"large\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"47%\",\r\n            right: \"50%\",\r\n            transform: \"translate(0, -50%)\",\r\n          }}\r\n        />\r\n      ) : (\r\n        <div\r\n          style={{\r\n            backgroundImage:`url(${numl})`,\r\n            backgroundSize:\"cover\",\r\n            backgroundPosition:\"center\",\r\n            backgroundAttachment:\"fixed\",\r\n            height:\"auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            paddingTop:\"100px\"\r\n          }}\r\n        >\r\n          {/************ Student-Portal Container Started Here  **********/}\r\n          <div className='container'>\r\n          <div className='row '>\r\n          <div className='col-lg-6 col-10 student_login m-auto '>\r\n          <h1 className='admin_Login_title'>Student Login</h1>\r\n          <Form\r\n\r\n            // {...layout}\r\n            name=\"basic\"\r\n            initialValues={{ remember: true }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n          >\r\n            <div className=\"student_login_form\">\r\n            <span style={{color:\"white\",\r\n           marginLeft:\"110px\",float:\"left\" ,fontSize:\"20px\"}}>\r\n              System ID :</span>\r\n                 <Form.Item\r\n                style={{\r\n                  width: \"300px\",\r\n                  marginLeft: \"100px\",\r\n                \r\n                }}\r\n               \r\n                name=\"systemId\"\r\n                rules={[{ \r\n                  required: true, \r\n                  message: \"System ID must be in formate of NUML-FXX-XXXXX!\",\r\n                  \r\n                 asyncValidator: (rule, value) => {\r\n                 return new Promise((resolve, reject) => {\r\n                   if (!value.match((/[N/n][U/u][M/m][L/l]-([A-Za-z])[0-9]{2}-[0-9]{1}/))) {\r\n                     reject('Enter valid system ID');  // reject with error message\r\n                   } \r\n                   else {\r\n                     resolve();\r\n                   }\r\n                 });\r\n               }\r\n                  \r\n                  \r\n               }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n              {/* <Form.Item\r\n                style={{\r\n                  width: \"92.45%\",\r\n                  marginLeft: \"1.4rem\",\r\n                }}\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input Correct Email!\",\r\n                    type: \"email\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item> */}\r\n               <span style={{color:\"white\",\r\n           marginLeft:\"110px\",float:\"left\" ,fontSize:\"20px\"}}>\r\n              Password :</span>\r\n              <Form.Item\r\n              style={{\r\n                width: \"300px\",\r\n                marginLeft: \"100px\",\r\n              \r\n              }}\r\n              \r\n                name=\"password\"\r\n                rules={[\r\n                  { required: true, message: \"Please input your password!\" },\r\n                ]}\r\n              >\r\n                <Input.Password />\r\n              </Form.Item>\r\n            \r\n            {/* <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\r\n        <Checkbox>Remember me</Checkbox>\r\n      </Form.Item> */}\r\n          \r\n              <Form.Item>\r\n                <Button className=\"btn btn-success\"\r\n                 type=\"primary\" htmlType=\"submit\" style={{padding:\"0px 40px\",marginTop:\"20px\"}}>\r\n                  Search\r\n                </Button>\r\n              </Form.Item>\r\n            \r\n            \r\n            \r\n            \r\n            <div\r\n               style={{\r\n                 paddingRight:\"90px\",\r\n                textAlign: \"center\",\r\n                \r\n              }}\r\n            >\r\n\r\n              <Link \r\n               style={{marginLeft:\"100px\", color:\"green\"}}\r\n              to=\"/login\"> Admin Portal-(Login)</Link> <br/>\r\n              {/* <Link to=\"/student-portal\">Student Portal-(Login)</Link>  <br/> */}\r\n              <Link \r\n               style={{marginLeft:\"100px\", color:\"green\"}}\r\n              to=\"/student-register\">Student Portal-(Regestration)</Link> <br/>\r\n            </div>\r\n            </div>\r\n          </Form>\r\n          </div>\r\n          </div>\r\n          </div>\r\n          {/* Student-Portal Container End Here  */}\r\n         \r\n     <div className='student_portal'>\r\n          {\r\n            student &&\r\n            (<Row style={{paddingLeft:\"200px\"}}>\r\n              <Col>\r\n               <h2 style={{color:\"white\",padding:\"20px 0px\"}}>Welcome {student.name}</h2>\r\n              <Descriptions style={{color:\"white\"}} bordered>\r\n    <Descriptions.Item label=\"Full Name\" labelStyle={{color:\"black\"}} style={{color:\"white\"}}>{student.name}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Email Address\"labelStyle={{color:\"black\"}} style={{color:\"white\"}}>{student.email}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Contact Number\"labelStyle={{color:\"black\"}} style={{color:\"white\"}}>{student.phone}</Descriptions.Item>\r\n    <Descriptions.Item label=\"Slip Verified\"labelStyle={{color:\"black\"}} style={{color:\"white\"}}>\r\n    <Badge labelStyle={{color:\"black\"}} style={{color:\"white\"}} status={student.slipVerified == true ? 'success':'error'} text={student.slipVerified == true ? 'Verified':'Not Verified'} />\r\n    </Descriptions.Item>\r\n    <Descriptions.Item label=\"Updated At\"labelStyle={{color:\"black\"}} style={{color:\"white\"}}>{new Date(student?.updatedAt).toUTCString()}</Descriptions.Item>\r\n    <Descriptions.Item label=\"System ID\">\r\n    <Tag color={'green'} key={student.systemId}>\r\n              {student.systemId?.toUpperCase() || ''}\r\n            </Tag></Descriptions.Item>\r\n    {/* <Descriptions.Item label=\"Created At\" span={2}>\r\n    {student.createdAt ? new Date(student?.createdAt).toUTCString() : ''}\r\n    </Descriptions.Item> */}\r\n    <Descriptions.Item  labelStyle={{color:\"black\"}} style={{color:\"white\"}} label=\"Account Status\" span={3}>\r\n      <Badge labelStyle={{color:\"black\"}} style={{color:\"white\"}} status={student.verified == true ? 'success':'warning'} text={student.verified == true ? 'Active':'Not Active'} />\r\n    </Descriptions.Item>\r\n    <Descriptions.Item labelStyle={{color:\"black\"}} style={{color:\"white\"}} label=\"Gender \">{student.sex}</Descriptions.Item>\r\n    <Descriptions.Item labelStyle={{color:\"black\"}} style={{color:\"white\"}} label=\"Slip Photo\">\r\n      <Image labelStyle={{color:\"black\"}} style={{color:\"white\"}}  src={student.slipPhoto ||'https://www.wkbn.com/wp-content/uploads/sites/48/2020/06/missing-generic.jpg'} style={{width:'250px'}} />\r\n      <br/>\r\n      <br/>\r\n      <Form.Item>\r\n        <Upload labelStyle={{color:\"black\"}} style={{color:\"white\"}} {...propertiesUpload} onChange={(e)=> handleChange(e)}\r\n        data={{name:'testing'}}>\r\n    <Button style={{color:\"white\"}} icon={<UploadOutlined />}>Click to Upload Challan</Button>\r\n  </Upload>\r\n        </Form.Item>\r\n    </Descriptions.Item>\r\n    {/* <Descriptions.Item label=\"Config Info\">\r\n      Data disk type: MongoDB\r\n      <br />\r\n      Database version: 3.4\r\n      <br />\r\n      Package: dds.mongo.mid\r\n      <br />\r\n      Storage space: 10 GB\r\n      <br />\r\n      Replication factor: 3\r\n      <br />\r\n      Region: East China 1<br />\r\n    </Descriptions.Item> */}\r\n  </Descriptions>\r\n\r\n              \r\n              </Col>\r\n              <Col style={{margin:'10px' }}>\r\n              <h2 style={{color:\"white\"}}>Send Message To Support</h2>\r\n              <Input  value={title} placeholder=\"title\"  style={{marginBottom:'10px'}} onChange={(e)=> setTitle(e.target.value)} />\r\n              <TextArea  value={msg} rows={3} placeholder=\"Write your Message!\" onChange={(e)=> setMsg(e.target.value)}  />\r\n              <Button style={{marginTop:'5px'}} onClick={onSubmit}>Send Message</Button>\r\n              </Col>\r\n            </Row>)\r\n           \r\n            \r\n          }\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StudentPortal;\r\n"]},"metadata":{},"sourceType":"module"}